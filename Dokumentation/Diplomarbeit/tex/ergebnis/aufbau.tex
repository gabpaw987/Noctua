\subsection{Aufbau der BTS}

Der letztendliche Aufbau der \gls{bts} im finalen Zustand ist in Abbildung \ref{fig:ClassDiagramBTS} ersichtlich. Grundsätzlich befindet sich das ViewModel in der Klasse \textit{MainViewModel} und wird von der Klasse \textit{Order} unterstützt. Der View befindet sich in der dazugehörigen Klasse \textit{MainWindow} und alle restlichen Klassen stellen das Model dar.

\begin{figure}[h]
	\centering
		\includegraphics[width=1.00\textwidth]{graphics/ergebnis/Noctua_BTS_ClassDiagram.png}
	\caption{Klassendiagram der \gls{bts}}
	\label{fig:ClassDiagramBTS}
\end{figure}

Das \textit{MainWindow} der \gls{bts} repräsentiert zusammen mit der dazugehörigen \gls{xaml}-Datei den View der Applikation, es besitzt allerdings auch noch ein wenig mehr Zusatzfunktionalität. Es handled die Events aller Button-Klicks, ist für den Aufbau des Charts zuständig und beinhaltet jegliche weitere Funktionalitäten aller \gls{gui}-Elemente. Deshalb besitzt es natürlich auch die Codestücke für das Speichern, Laden und Exportieren der Performancedaten, den Aufbau und die Verwaltung der Charts und Indikatoren und vieles mehr. Der \textit{BackgroundWorker} wird hierbei dazu benutzt, um die Berechnungen des \textit{Calculator}s in einen \textit{Thread} auszulagern.\\
\\
Das \textit{MainViewModel} der \gls{bts} ist eine sehr einfache Form des ViewModels, indem es lediglich alle für die \gls{gui} relevanten Daten speichert. Welche das genau sind kann ebenfalls der Abbildung \ref{fig:ClassDiagramBTS} entnommen werden. Dazu benutzt es die Technologie des Data Bidings und der Properties, die bei einer Veränderung über Events direkt die Daten, die vom View angezeigt werden. Für die Darstellung des \textit{DataGrid}s auf dem Orders-Tab der \gls{bts} wird zusätzlich noch die Klasse \textit{Order} bzw. eine Liste aus \textit{Order}-Objekten im ViewModel gespeichert, die selbst auch wieder Properties besitzen.\\
\\
Die wohl wichtigste Klasse des Models ist der \textit{Calculator}. Hier werden alle Berechnungen zur Erhebung von Performancedaten durchgeführt. Er hat also auch direkt Zugriff auf das ViewModel und setzt dort die errechneten Daten, die daraufhin in der \gls{gui} angezeigt werden. Weiters benutzt der \textit{Calculator} den \textit{CSVReader}, um die historischen Aktien-Preisdaten aus dem gewählten \gls{csv}-File auszulesen und besitzt auch selbst Code um den gewählten Algorithmus in Form einer \gls{dll}-Datei einzulesen und zu invokieren. Innerhalb aller Berechnungen des \textit{Calculator}s werden Bars immer in der Form \textit{List<Tuple<DateTime, decimal, decimal, decimal, decimal>>} gespeichert. Zu guter Letzt gibt es da nun noch die \textit{Settings}-Klasse. Diese wird von Microsoft Visual Studio automatisch generiert und untertsützt den Programmierer bei der Arbeit mit Anwendungskonfigurationsdateien (Siehe \ref{akd} ''Anwendungskonfigurationsdateien'').